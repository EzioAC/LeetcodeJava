package Y2023.M07;

import java.util.Arrays;

public class SumOfPower {


	public int sumOfPower(int[] nums) {
		long mod = 1000000007;
		Arrays.sort(nums);
		long s = 0;
		long res = 0;
		for(int i=0;i<nums.length;i++) {
			long x = nums[i];
			res =  (res + (((x * x) % mod) * (x + s))%mod) % mod;
			s = (2*s + x)%mod;
		}
		return (int) res;
	}

	public static void main(String[] args) {
		SumOfPower sumOfPower = new SumOfPower();
		System.out.println(
			sumOfPower.sumOfPower(new int[] {2,1,4})
		);
		System.out.println(
			sumOfPower.sumOfPower(new int[] {1,1,1})
		);
		System.out.println(
				sumOfPower.sumOfPower(new int[] {978963,798466,169198,45868,664792,703819,182808,799924,283848,523252,2123,365935,427583,655411,781124,215245,135635,149101,684647,72352,957817,879130,919567,33235,799326,522600,60335,95701,160000,45171,10604,812596,623857,739821,209166,152961,412476,80148,446928,48662,508986,739177,820178,936291,672554,134580,964225,293013,231088,80086,479068,639632,920534,819550,624154,392243,878207,872296,759167,799522,825343,227176,867690,431150,550456,773776,430209,19551,95484,505217,911363,392435,957164,413056,633622,290081,532201,702176,605241,361989,513750,620032,745396,97886,434156,899475,543314,126654,607397,793959,732860,171203,876340,983081,22139,945127,664098,783337,77857,467065,209562,144437,958878,247472,321174,223478,502221,168953,370481,882236,58213,514230,427739,742631,314438,459310,854035,48891,907064,969029,595073,180428,675143,942184,45939,936335,309824,627312,907008,529549,563174,990376,693018,965156,787822,373676,983084,3880,394640,125754,455758,512916,571687,561298,130164,885240,591834,552101,711172,974851,294616,69106,949822,166269,148145,602688,612653,846050,165329,800273,776799,19004,141864,191810,723832,386270,649203,347769,302785,789052,643340,742072,229896,7318,342712,951646,607961,17415,237477,262415,774888,974793,793005,640792,596319,322002,758233,937250,274028,913993,759602,132538,683053,264369,262395,240358,922558,888783,616570,670514,619345,558855,548210,415479,49539,895435,168901,988825,62072,939410,802773,756602,500991,481864,336024,53618,496571,905962,467124,485324,80621,38127,766401,417775,184349,979318,382858,383486,738311,466790,779979,716277,820543,931099,306776,870279,491474,555265,882,331089,131988,254979,815326,682645,108843,43180,259908,544821,361111,840171,560522,377523,597550,366074,118978,556485,252166,251311,518188,352435,871394,283971,114455,189141,867640,479884,991416,209854,420017,836909,79245,981601,71982,307065,869735,65583,561071,995658,905818,39458,262172,592333,770689,724527,139502,224004,712770,822667,909311,302731,351125,814087,987312,23621,271342,170375,344712,245614,857073,37931,740658,76342,665333,507251,868110,981184,218940,204590,57807,543910,27349,526399,416558,654724,362007,585572,325680,827181,509914,572354,34823,860044,748142,336715,1705,517355,796098,665237,981165,308364,859077,139405,692060,607612,720073,66868,173424,119944,589639,931644,409676,354355,445862,680183,112463,850996,509524,486200,651789,959567,543162,312016,337969,407377,246459,393579,977062,608032,364197,696147,284140,231694,624218,796289,376528,291885,249219,238282,17131,513486,401609,166151,284896,450800,299423,799959,995402,826110,305933,86732,364961,859403,391976,932735,40820,610279,109309,40896,998414,203271,544706,986874,173796,414917,305509,882814,963866,345498,968279,123060,679654,268941,649251,572583,761547,790665,10207,813045,541216,682571,571197,559470,67461,415833,424793,479308,655507,428518,610926,874421,996266,641360,372704,173224,817360,772362,702251,27896,688469,80645,145370,315559,850603,376351,512483,620014,704865,495618,536653,164315,416503,586407,686895,170275,518628,393998,127631,478551,284067,823529,341466,586583,316169,983308,56068,334580,949998,743056,332320,472890,90459,434227,236940,33591,626449,531710,148145,560296,206688,662979,249728,988264,56380,207120,973628,768380,610281,562453,566590,141234,981647,432011,695644,248245,534357,170355,409310,751348,214742,817906,446395,465422,361080,744772,950348,989615,863017,480355,853948,306984,461756,812746,486094,516299,311510,678462,213130,512361,785315,184743,917658,850410,568236,944137,711263,523941,553921,375478,201368,896554,508598,744329,697817,678276,210992,521853,690286,440916,931971,382447,835522,902020,972108,135600,200640,759613,832946,262931,88755,817820,314087,414166,565354,549085,506450,195446,474765,92876,74488,337240,291442,816200,728452,785960,420906,380300,74656,630102,491742,517411,526084,130742,839809,594875,354033,623315,513235,885268,838386,317439,146509,538851,699849,547772,586695,273195,693195,281665,795577,399387,330687,935995,20869,365833,92118,716675,135401,133752,37051,76103,994148,521165,577679,701983,198546,783562,178742,361822,294162,294128,186010,611401,470151,213106,753604,322239,373408,817745,775875,416062,690825,146721,913353,521880,280842,173401,156458,177871,107769,732499,632673,351704,427608,628924,158090,393806,914283,824165,883262,243814,84144,579061,13102,247103,110481,536277,294917,683310,789304,43205,124200,791715,979195,341246,612388,676471,571760,547985,880267,205663,509906,212021,82677,80697,849662,476302,769658,994399,814208,477460,397499,864125,590086,898091,91096,919236,988906,767668,795590,116059,923079,735048,245194,565907,163775,116718,483996,606005,596137,656808,92906,342243,929444,126872,927440,499097,366957,444354,700577,948817,964633,503413,753884,434004,568159,348933,493254,943506,96691,594443,32322,449048,59676,150984,915211,402181,519821,643815,390713,83362,895345,237991,261090,406576,496749,357835,573662,1792,937699,159112,366804,712057,825517,700838,492717,222224,33389,173829,228308,364731,520007,526650,637433,959663,44251,895018,916313,9832,318196,412146,106494,107680,434676,102666,459295,742971,806786,614863,738186,951645,341081,357385,685683,313685,1977,627744,650169,668088,529102,76583,637582,607636,262334,317160,772736,470807,621376,478283,402452,362699,885678,727150,906501,993150,155694,116870,465873,96030,12362,141812,437285,754027,799497,895384,89263,796786,584440,226481,446494,876683,589638,41451,469759,699701,808549,810942,678019,49179,130885,930159,45272,583713,769494,923588,187711,859585,718873,843188,329094,564232,961065,516368,926044,256524,240984,410803,331450,451559,678190,477216,451459,815818,540380,839048,540098,861333,231780,829849,954992,758686,553506,989793,44207,146003,235294,631723,936607,75866,774721,286563,158948,40877,277366,733102,749328,653589,175572,20291,981727,659625,558611,136785,124711,390218,259954,896816,182920,492334,989307,387919,72762,665466,98615,217313,399011,325087,197729,985972,994311,664577,209087,238127,154856,493130,302736,610277,570223,487394,964884,521644,754117,894568,256362,476282,759692,312359,842449,587806,517801,855344,314370,400287,799696,762343,226178,296505,147843,158731})
		);

	}
}
